<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>COVID data visualizer</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <!-- <link rel="stylesheet" type="text/css" href="css/style.css"> -->

    <!-- <link type="text/css" rel="stylesheet" media="screen" href="css/bootstrap.min.css">
    <script type="text/javascript" language="javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" language="javascript" src="js/bootstrap.min.js"></script> -->

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

    <script type="text/javascript" language="javascript" src="js/APICall.js"></script>
    <script type="text/javascript" language="javascript" src="js/tableOperations.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>

    <div class="container">
        <h2>Actual COVID data</h2>
        <p>To make the tabs toggleable, add the data-toggle="tab" attribute to each link. Then add a .tab-pane class with a unique ID for every tab and wrap them inside a div element with class .tab-content.</p>

        <ul class="nav nav-tabs nav-justified">
            <li class="active"><a data-toggle="tab" href="#menu1">Covid history trends</a></li>
            <li><a data-toggle="tab" href="#menu2">Table statistics</a></li>
            <li><a data-toggle="tab" href="#menu3">Chart statistics by country</a></li>
        </ul>

        <div class="tab-content">
            <div id="menu1" class="tab-pane fade in active">
                <h3>Covid history trends</h3>
                <p>Select a country (mandatory), start and end dates (optional) to see a graph of sickness rate trends over a period. If there are no dates, the data for the entire available monitored range will be shown.</p>
                <div class="container">
                    <div class="row">
                        <div class="col-lg-3">
                            <input class="form-control" type="text" list="countrylist" id="country" placeholder="Country" value="Ukraine">
                            <datalist id="countrylist"></datalist>
                        </div>
                        <div class="col-lg-3">
                            <label for="date_from">From </label>
                            <!-- value="2021-04-01" -->
                            <input type="date" class="form-control" id="dateFrom" placeholder="Start Date" value="2021-04-01">
                        </div>
                        <div class="col-lg-3">
                            <label for="date_to">To </label>
                            <input type="date" class="form-control" id="dateTo" placeholder="End Date" value="2021-04-10">
                        </div>
                        <div class="col-lg-3">
                            <input class="btn btn-primary" type="button" value="Find" onclick="viewChartByDate()">
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-lg-3">
                            <div class="alert alert-danger" role="alert" style="display: none;">
                                <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                                <span id="errorMessage"></span>
                            </div>
                        </div>
                    </div>

                    <div>
                        <canvas id="historyChart" width="100" height="70"></canvas>
                    </div>

                </div>



            </div>
            <div id="menu2" class="tab-pane fade">
                <h3>Menu 2</h3>

                <table class="table table-bordered table-hover">
                    <thead class="thead-dark">
                        <tr>
                            <th id="lastUpdateCell" colspan="14"></th>
                        </tr>

                        <tr>
                            <th class="interactCell" onclick="changeFieldOrder(event, 'continent')" rowspan="2">Continent</th>
                            <th class="interactCell interactCellAsc" onclick="changeFieldOrder(event, 'country')" rowspan="2">Country</th>
                            <th class="interactCell" onclick="changeFieldOrder(event, 'population')" rowspan="2">Population</th>
                            <th colspan="6">Cases</th>
                            <th colspan="3">Deaths</th>
                            <th colspan="2">Tests</th>
                        </tr>
                        <tr>
                            <th class="interactCell" onclick="changeFieldOrder(event, 'cases.new')" title='Incidence'>New</th>
                            <th class="interactCell" onclick="changeFieldOrder(event, 'cases.active')" title='Sick people'>Active</th>
                            <th class="interactCell" onclick="changeFieldOrder(event, 'cases.critical')" title='Critical cases'>Critical</th>
                            <th class="interactCell" onclick="changeFieldOrder(event, 'cases.recovered')" title='Recovered'>Recovered</th>
                            <th class="interactCell" onclick="changeFieldOrder(event, 'cases.1M_pop')" title='Total confirmed cases per 1 million population'>1M_pop</th>
                            <th class="interactCell" onclick="changeFieldOrder(event, 'cases.total')" title='Total number of cases'>Total</th>

                            <th class="interactCell" onclick="changeFieldOrder(event, 'deaths.new')" title='New deaths'>New</th>
                            <th class="interactCell" onclick="changeFieldOrder(event, 'deaths.1M_pop')" title='Deaths per 1 million'>1M_pop</th>
                            <th class="interactCell" onclick="changeFieldOrder(event, 'deaths.total')" title='Total number of deaths'>Total</th>

                            <th class="interactCell" onclick="changeFieldOrder(event, 'tests.1M_pop')" title='Tests per 1 million'>1M_pop</th>
                            <th class="interactCell" onclick="changeFieldOrder(event, 'tests.total')" title='Total number of test'>Total</th>
                        </tr>

                        <tr class="filterCells">
                            <th colspan="2">
                            </th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                    <tfoot>
                    </tfoot>
                </table>

            </div>
            <div id="menu3" class="tab-pane fade">
                <h3>Menu 3</h3>

            </div>

        </div>
    </div>

    <script>
        init();
    </script>
</body>

</html>